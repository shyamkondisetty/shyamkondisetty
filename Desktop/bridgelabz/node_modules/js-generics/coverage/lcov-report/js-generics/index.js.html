<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js-generics\index.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">js-generics/</a> index.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">70.83% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>34/48</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">69.05% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>29/42</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">80% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>8/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">72.34% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>34/47</span>
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">//     js-generics
//
//     Copyright (c) 2015 Simon Y. Blackwell, AnyWhichWay
//     MIT License - http://opensource.org/licenses/mit-license.php
(function() {
	"use strict";
	var _global = this;
	/*
	 * Returns a function that is built to choose and dispatch the best matching handler based on arguments.
	 * Argument selectors can be primitive type names or functions that return a true for the argument passed
	 * at runtime.
	 * 
	 * generic()
	 * 	.method("number",function(value) { console.log(value, " is a number.");})
	 * 	.method(function(o) { return o instanceof Object; },function(value) { console.log(value," is an Object"); });
	 * 
	 */
	function generic(defaultFunction) {
		// define the dispatch function
		var method = function() {
			var me = this, possible = [];
			var args = Array.prototype.slice.call(arguments);
			method.handlers.forEach(function(handler) {
				// handler matches if all its arg types or type checkers match args passed in and arg count is correct
				var f = handler[handler.length-1], count;
				<span class="missing-if-branch" title="if path not taken" >I</span>if(typeof(f)==="number") {
<span class="cstat-no" title="statement not covered" >					count = f;</span>
<span class="cstat-no" title="statement not covered" >					f = handler[handler.length-2];</span>
				} else {
					count = f.length;
				}
				if((count===generic.VARGS || args.length===count) &amp;&amp; args.every(function(arg,i) {
					return arg===undefined || i&gt;count || (i&gt;0 &amp;&amp; count===generic.VARGS) || (handler[i] instanceof Function ? (count===generic.VARGS ? <span class="branch-0 cbranch-no" title="branch not covered" >handler[i].call(me,args) </span>: handler[i].call(me,arg)) : handler[i]===generic.VTYPE || handler[i]===typeof(arg));
				})) {
					possible.push(f);
				}
			});
			var thehandler = (possible[possible.length-1] ? possible[possible.length-1] : defaultFunction);
			<span class="missing-if-branch" title="else path not taken" >E</span>if(typeof(thehandler)==="function") { // won't be a function if no default was provided and no handlers matched
				//var args = [thehandler].concat(arguments);
				//return Function.apply(args);
				return thehandler.apply(me,arguments);
			}
			// no matching handler, no return value
		}
		// create storage for handlers
		method.handlers = [];
		// add handlers
		method.method = function() {
			var args = Array.prototype.slice.call(arguments);
			// don't add handlers twice
			<span class="missing-if-branch" title="else path not taken" >E</span>if(!method.handlers.some(function(handler,i) {
				<span class="missing-if-branch" title="else path not taken" >E</span>if(args.length===handler.length) {
					<span class="missing-if-branch" title="if path not taken" >I</span>if(args.every(function(arg,j) {
						return handler[j]===arg;
					})) {
<span class="cstat-no" title="statement not covered" >						handlers[i] = arguments;</span>
<span class="cstat-no" title="statement not covered" >						return handlers[i];</span>
					}
				}
			})) {
				var count, f = args[args.length-1];
				<span class="missing-if-branch" title="if path not taken" >I</span>if(typeof(f)==="number") {
<span class="cstat-no" title="statement not covered" >					count = f;</span>
<span class="cstat-no" title="statement not covered" >					f = args[args.length-2];</span>
				} else {
					count = f.length;
				}
				<span class="missing-if-branch" title="else path not taken" >E</span>if(count===generic.VARGS || f.length===count) { // make sure the number of type checks is the same as the number of arguments expected by function
					method.handlers.push(args);
				}
			}
			return method;
		}
		return method;
	}
	generic.VARGS = Infinity;
	generic.VTYPE = undefined;
	
	<span class="missing-if-branch" title="else path not taken" >E</span>if (typeof(module) !== 'undefined' &amp;&amp; module.exports) {
		module.exports  = generic;
	} else <span class="cstat-no" title="statement not covered" >if (typeof define === 'function' &amp;&amp; define.amd) {</span>
		// Publish as AMD module
<span class="cstat-no" title="statement not covered" >		define(<span class="fstat-no" title="function not covered" >function() {<span class="cstat-no" title="statement not covered" ></span>return generic;}</span>);</span>
	} else {
		// Publish as global (in browsers)
<span class="cstat-no" title="statement not covered" >		var _previousRoot = _global.generic;</span>
		// **`noConflict()` - (browser only) to reset global 'generic' var**
<span class="cstat-no" title="statement not covered" >		generic.noConflict = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >			_global.generic = _previousRoot;</span>
<span class="cstat-no" title="statement not covered" >			return generic;</span>
		};
<span class="cstat-no" title="statement not covered" >		_global.generic = generic;</span>
	}
}).call(this)</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Jan 07 2016 07:33:25 GMT-0500 (Eastern Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
